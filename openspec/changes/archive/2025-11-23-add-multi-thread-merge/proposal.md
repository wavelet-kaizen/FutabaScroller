# Change: 複数スレッドマージ機能の追加

## Why
ふたばの実況ログは複数スレッドにまたがることが多く、現在は1つのスレッドが末尾までスクロールし終えたら一旦アーカイブ動画を一時停止して手動で次のスレッドをブラウザで開き、再度ブックマークレットを実行してスクロールとアーカイブ動画再生を再開している。この手間が大きいため、複数スレッドを事前に統合してシームレスに再生できる機能が必要。

## What Changes
- **複数スレッドマージ機能**: 他のスレッドURLを指定して、そのレスポンスを現在のタブのDOMに追加してスクロール対象とする（`No.` 昇順でソートし、既存レスと重複する `No.` は再挿入しない）
- **4つのログ形式に対応**: ふたば本家、ふたクロ、tsumanne.net、Futafuta の4つのログ形式を自動判定してレスを抽出
- **0レス目マージの明確化**: 4形式すべてでスレ主投稿(0レス目)をマージ対象とし、Futafuta は `<table>` 外に複数箇所出現しても認識する
- **開始位置指定の拡張**: レス番号だけでなく、日時指定（`'25/11/16(日)22:48:03'` または `2025/11/16 22:48:03`）またはNo.指定（`No.1373341055`）を可能にする
- **HTML入力UIの追加**: prompt関数に代わり、オーバーレイフォームで複数パラメータを入力可能にする
- **ローディング表示**: 外部スレッド取得中に処理状態を可視化する
- **起動時の一時停止**: 複数スレッドマージ処理完了を待つため、起動直後は一時停止状態とし、ユーザーが明示的にスクロールを開始する（再実行時も開始前にリセット）

## Impact
- **新規capability**: `thread-merge`, `input-ui`, `loading-ui`
- **既存specへの影響**: なし（新機能のみ）
- **破壊的変更**: なし（起動時の一時停止は新しい挙動だが、既存の使い方を壊さない）
- **影響を受けるコード**:
  - `src/ui/prompt.ts` - HTML UIに置き換え
  - `src/dom/capture.ts` - 外部スレッド取得とDOM追加ロジック追加
  - `src/types.ts` - ThreadSettings に新しいフィールド追加
  - `src/main.ts` - 起動時の一時停止ロジック追加
  - `src/ui/scroller.ts` - 日時/No.指定のサポート、再実行時の初期化
