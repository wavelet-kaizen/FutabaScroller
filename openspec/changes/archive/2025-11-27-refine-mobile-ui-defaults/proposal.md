# refine-mobile-ui-defaults

## Context

現在のモバイルUI実装では以下の点でユーザー体験が最適化されていない:

1. **UI表示モードのデフォルト**: 入力フォームで「自動非表示」がデフォルト選択されているが、スマートフォンユーザーにとっては「常駐表示」モードの方が操作しやすい
2. **浮動パネルの初期表示状態**: 起動時は「最小化」（コードレベル）だが、`showMessage()` により実質「ステータス表示」に切り替わる。しかし、初回利用時にコントロールボタンが見えず、操作方法が分かりにくい
3. **表示モード切り替えサイクル**: 現在は「最小化→ステータス→フル→最小化」だが、起動時にフル表示から始める方が操作方法が直感的
4. **準備完了メッセージの文言**: 「準備完了、xキーでスクロール開始」という表示が常駐UIモードでも使われているが、このモードではUIボタンでも操作可能。また、どのボタンをタップすれば良いかが不明瞭
5. **準備完了メッセージの表示タイミング**: スクロール開始後もメッセージが残り続け、実際の状態と矛盾する
6. **スマートフォン向けセットアップ手順の不在**: README.mdにスマートフォンでブックマークレットを利用する手順が記載されていない（CDN経由のスクリプト読み込み方式）

## Goal

モバイルUIのデフォルト動作とメッセージングを改善し、スマートフォンユーザーにとって直感的で使いやすいUXを提供する。また、スマートフォン向けのセットアップ手順をドキュメント化する。

## Scope

- **IN SCOPE**:
  - UI表示モードのデフォルトを「常駐表示」に変更
  - 浮動コントロールパネルの初期表示状態を「フル表示」に変更
  - 表示モード切り替えサイクルを「フル→アイコン（最小化）→ステータス→フル」に変更
  - 常駐モード時の準備完了メッセージ文言を「準備完了、▶ボタンまたはxキーで再生開始」に変更
  - スクロール再生開始時（一時停止→再生への切り替え時）に準備完了メッセージをクリア
  - README.mdにスマートフォン向けセットアップ手順（CDN経由のスクリプト読み込み）を追加

- **OUT OF SCOPE**:
  - UIの配色やレイアウトの大幅な変更
  - 新しいUIコンポーネントの追加
  - キーボードショートカットの変更
  - 自動非表示モードの動作変更

## Dependencies

- 既存の `mobile-ui` 仕様に依存
- `FloatingControlPanel`, `InputFormOverlay`, `ScrollController` の実装に依存

## Risks

- **デフォルト変更により既存ユーザー（PC利用者）の体験が変わる**
  - **Mitigation**: 入力フォームで引き続き「自動非表示」も選択可能なため、必要に応じて切り替え可能
- **表示モードサイクルの変更により操作フローに慣れたユーザーが混乱**
  - **Mitigation**: アイコンタップで順番に切り替わるだけなので、1〜2回のタップで目的の状態に到達可能。常駐UIは最近追加された機能のため、既存ユーザーへの影響は限定的

## Success Criteria

- [x] UI表示モードのデフォルトが「常駐表示」になっている
- [x] 浮動コントロールパネルの起動時表示状態が「フル表示」になっている
- [x] アイコンタップで「フル→アイコン（最小化）→ステータス→フル」の順に切り替わる
- [x] 常駐モード起動時に「準備完了、▶ボタンまたはxキーで再生開始」と表示される
- [x] スクロール再生開始時（一時停止状態から再生に切り替わった時）に準備完了メッセージがクリアされる
- [x] README.mdにスマートフォン向けセットアップ手順が記載されている
- [x] 既存のテストが全てパスする
